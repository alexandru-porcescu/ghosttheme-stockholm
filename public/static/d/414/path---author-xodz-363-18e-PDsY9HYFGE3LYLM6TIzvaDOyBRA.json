{"data":{"ghostAuthor":{"slug":"xodz","name":"Ryan Rosado","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","cover_image":"http://res-3.cloudinary.com/hackers-and-slackers/image/upload/q_auto/v1/images/audio_o.jpg","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","location":"Queens represent","website":"http://twitch.tv/xodz/videos/all","twitter":"@Zawdz","facebook":null},"allGhostPost":{"edges":[{"node":{"id":"Ghost__Post__5c12d7bfe875ad7bb8673735","title":"Reselling AWS Load Balancing","slug":"reselling-aws-load-balancer","featured":false,"feature_image":"https://hackersandslackers.com/content/images/2018/11/loadbalancer@2x.jpg","excerpt":"Providing Cloud Load Balancing for your customers; My ultimatum.","custom_excerpt":"Providing Cloud Load Balancing for your customers; My ultimatum.","created_at_pretty":"12 November, 2018","published_at_pretty":"12 November, 2018","updated_at_pretty":"13 November, 2018","created_at":"2018-11-11T19:49:57.000-05:00","published_at":"2018-11-11T20:16:49.000-05:00","updated_at":"2018-11-12T23:05:57.000-05:00","meta_title":"Reselling AWS Load Balancing | Hackers and Slackers","meta_description":"Providing Cloud Load Balancing for your customers by leveraging AWS.","og_description":"Providing Cloud Load Balancing for your customers by leveraging AWS.","og_image":"https://hackersandslackers.com/content/images/2018/11/loadbalancer@2x.jpg","og_title":"Reselling AWS Load Balancing | Hackers and Slackers","twitter_description":"Providing Cloud Load Balancing for your customers by leveraging AWS.","twitter_image":"https://hackersandslackers.com/content/images/2018/11/loadbalancer@2x.jpg","twitter_title":"Reselling AWS Load Balancing | Hackers and Slackers","authors":[{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"}],"primary_author":{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"},"primary_tag":{"name":"AWS","slug":"aws","description":"Monolithic cloud architecture via microservices. Become familiar with AWS products, account administration, security practices, and tips to make it all easier.","feature_image":null,"meta_description":"Become familiar with AWS services, account administration, security practices, and tips to make it all easier.","meta_title":"Learn AWS | Hackers and Slackers","visibility":"public"},"tags":[{"name":"AWS","slug":"aws","description":"Monolithic cloud architecture via microservices. Become familiar with AWS products, account administration, security practices, and tips to make it all easier.","feature_image":null,"meta_description":"Become familiar with AWS services, account administration, security practices, and tips to make it all easier.","meta_title":"Learn AWS | Hackers and Slackers","visibility":"public"},{"name":"DevOps","slug":"devops","description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","feature_image":null,"meta_description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","meta_title":"DevOps: Networking And Server Configuration | Hackers and Slackers","visibility":"public"}],"plaintext":"Let's say we have a hosting service for users who bring their own domain name.\nIn this scenario we'd like to be able to service customers no matter who manages\ntheir DNS records. Be it GoDaddy, Namecheap, Google, Hostgator, some offshore\nplace, etc.\n\nAt the same time, we'd also like to provide Load balancing so no one-user can\noverload any of our systems. This means, instead of having a customer's domain\nname point directly to the system where their webserver or app resides, it will\npoint the HTTP connection to a Load Balancer which is prepared to handle serious\nconnection load before divvying it out to whichever cluster of systems is ready\nto deliver the user's content. \n\nIn an ideal world, we would have the user point their domain name to the Load\nBalancer's IP address. Very simple DNS A-Record adjustment. \n\nIn the real world, these type of cloud load balancers run over several ip\naddresses that rotate over time. So, if we were to place one of these IP\naddresses in a domain name's A-Record, it would soon be useless as it rotates\nout. Instead, the cloud load balancer offers us an end point (also an A-Record)\nsuch as 'entrypoint-797000074.us-east-1.elb.amazonaws.com', which is static\nwhile they dynamically rotate the IP addresses the entrypoint leads to. \n\nThe catch? You can't place an A-Record in another DNS A-Record, you can only\nplace an IP address in an A-Record. the DNS A-Record is simply a key-value pair\nwhere the key  is the Domain name (yoursiteEndpoint.com) and the value  is an IP\naddress (and nothing else). \n\nThen how do we leverage a cloud load balancer for our customers?\n\n{workaround}  Each customer with their own domain name must make the following\nchanges in their DNS provider records. \n\n * Make a CNAME Record called \"www\" which leads to the AWS Load Balancer\n   A-Record ('entrypoint-797000074.us-east-1.elb.amazonaws.com)\n * Setup DNS forwarding so customersite.com forwards to www.customersite.com\n\nThe Problem:  The customer will literally be entering evident AWS data into\ntheir config, and it's much more information to update than just an IP address\nin an A-Record. \n\nMore Options: \n\n{Route 53 Nameservers}  You have to automate Route 53, adding a new Hosted Zone\nbased on the customer's domain name, retrieve and deliver the Route 53 Hosted\nZone nameservers to the customer so the customer can update their DNS records at\ntheir service of choice.\n\nThe Problem:  Lots more automation and costs, AWS 500 Hosted Zone limit, more\ncustomer sync interaction\n\nMy Ultimatum:\nMake my own Load Balancer out of a network-enhanced AWS EC2 instance. I will\ngive two options for the customers - the simple A-record update to EC2-instance\nstatic IP. If they want DDoS protection and load balancing, they can do the \n{workaround}  step above additionally. If they decide not to do {workaround} \nstep above, the customer understands that we are leaving leaving the uptime\ncompletely up to the EC2 instance IP address.  Also, forget that Route 53\nnameservers update BS, as that is way too much additional business logic\nautomation and costs for reselling standpoint.","html":"<p>Let's say we have a hosting service for users who bring their own domain name. In this scenario we'd like to be able to service customers no matter who manages their DNS records. Be it GoDaddy, Namecheap, Google, Hostgator, some offshore place, etc.</p><p>At the same time, we'd also like to provide Load balancing so no one-user can overload any of our systems. This means, instead of having a customer's domain name point directly to the system where their webserver or app resides, it will point the HTTP connection to a Load Balancer which is prepared to handle serious connection load before divvying it out to whichever cluster of systems is ready to deliver the user's content. </p><p>In an ideal world, we would have the user point their domain name to the Load Balancer's IP address. Very simple DNS A-Record adjustment. </p><p>In the real world, these type of cloud load balancers run over several ip addresses that rotate over time. So, if we were to place one of these IP addresses in a domain name's A-Record, it would soon be useless as it rotates out. Instead, the cloud load balancer offers us an end point (also an A-Record) such as 'entrypoint-797000074.us-east-1.elb.amazonaws.com', which is static while they dynamically rotate the IP addresses the entrypoint leads to. </p><p>The catch? You can't place an A-Record in another DNS A-Record, you can only place an IP address in an A-Record. the DNS A-Record is simply a key-value pair where the <em>key</em> is the Domain name (yoursiteEndpoint.com) and the <em>value</em> is an IP address (and nothing else). </p><p>Then how do we leverage a cloud load balancer for our customers?</p><p><em>{workaround}</em> Each customer with their own domain name must make the following changes in their DNS provider records. </p><ul><li>Make a CNAME Record called \"www\" which leads to the AWS Load Balancer A-Record ('entrypoint-797000074.us-east-1.elb.amazonaws.com)</li><li>Setup DNS forwarding so customersite.com forwards to www.customersite.com</li></ul><p><em>The Problem:</em><strong> </strong>The customer will literally be entering evident AWS data into their config, and it's much more information to update than just an IP address in an A-Record. </p><p>More Options: </p><p><em>{Route 53 Nameservers}</em> You have to automate Route 53, adding a new Hosted Zone based on the customer's domain name, retrieve and deliver the Route 53 Hosted Zone nameservers to the customer so the customer can update their DNS records at their service of choice.</p><p><em>The Problem:</em> Lots more automation and costs, AWS 500 Hosted Zone limit, more customer sync interaction</p><h2 id=\"my-ultimatum-\">My Ultimatum:</h2><p>Make my own Load Balancer out of a network-enhanced AWS EC2 instance. I will give two options for the customers - the simple A-record update to EC2-instance static IP. If they want DDoS protection and load balancing, they can do the <em>{workaround}</em> step above additionally. If they decide not to do <em>{workaround}</em> step above, the customer understands that we are leaving leaving the uptime completely up to the EC2 instance IP address.  Also, forget that Route 53 nameservers update BS, as that is way too much additional business logic automation and costs for reselling standpoint. </p>","url":"https://hackersandslackers.com/reselling-aws-load-balancer/","uuid":"5dd15e2a-c368-4717-900c-e85095331c4b","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5be8ce3574f90031d0a61650"}},{"node":{"id":"Ghost__Post__5c12d7bfe875ad7bb86736a0","title":"Weekend Worker #2 - Cert Renewals","slug":"renewing-certs","featured":false,"feature_image":"https://hackersandslackers.com/content/images/2018/07/encrypt3@2x.jpg","excerpt":"Renewing LetsEncrypt Certs with Certbot.","custom_excerpt":"Renewing LetsEncrypt Certs with Certbot.","created_at_pretty":"09 July, 2018","published_at_pretty":"09 July, 2018","updated_at_pretty":"19 September, 2018","created_at":"2018-07-08T20:25:30.000-04:00","published_at":"2018-07-08T20:33:37.000-04:00","updated_at":"2018-09-19T02:56:32.000-04:00","meta_title":"Weekend Worker #2 - Cert Renewals | Hackers and Slackers","meta_description":"LetsEncrypt for the awesome temporary free SSL Certs they offer. In the last use I became familiar with and implemented the use of certbot. ","og_description":"LetsEncrypt for the awesome temporary free SSL Certs they offer. In the last use I became familiar with and implemented the use of certbot. ","og_image":"https://hackersandslackers.com/content/images/2018/07/encrypt3@2x.jpg","og_title":"Weekend Worker #2 - Cert Renewals","twitter_description":"LetsEncrypt for the awesome temporary free SSL Certs they offer. In the last use I became familiar with and implemented the use of certbot. ","twitter_image":"https://hackersandslackers.com/content/images/2018/07/encrypt3@2x.jpg","twitter_title":"Weekend Worker 2: Cert Renewals | Hackers and Slackers","authors":[{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"}],"primary_author":{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"},"primary_tag":{"name":"DevOps","slug":"devops","description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","feature_image":null,"meta_description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","meta_title":"DevOps: Networking And Server Configuration | Hackers and Slackers","visibility":"public"},"tags":[{"name":"DevOps","slug":"devops","description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","feature_image":null,"meta_description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","meta_title":"DevOps: Networking And Server Configuration | Hackers and Slackers","visibility":"public"}],"plaintext":"It's Sunday and you know what that means... time to catch up on work outside of\nwork. \n\nI recently used LetsEncrypt for the awesome temporary free SSL Certs they offer.\nIn the last use I became familiar with and implemented the use of certbot\n[https://dedisource.com/docs/display/Public/What+is+Certbot]. \n\nI did not go so far as to automate certbot\n[https://dedisource.com/docs/display/Public/What+is+Certbot]  to check for and\nupdate near-expiring certs. But this is coming up soon...\n\nHowever, it's come time to renew so I've had to reteach myself how to do it,\ngrasping for all logs in 'history' over a few different machines, I was able to\neasily re-do it once more and this time - document Renewing LetsEncrypt Certs\nwith Certbot\n[https://dedisource.com/docs/display/Public/Renewing+LetsEncrypt+Certs+with+Certbot]\n.","html":"<p>It's Sunday and you know what that means... time to catch up on work outside of work. </p><p>I recently used LetsEncrypt for the awesome temporary free SSL Certs they offer. In the last use I became familiar with and implemented the use of <a href=\"https://dedisource.com/docs/display/Public/What+is+Certbot\">certbot</a>. </p><p>I did not go so far as to automate <a href=\"https://dedisource.com/docs/display/Public/What+is+Certbot\">certbot</a> to check for and update near-expiring certs. But this is coming up soon...</p><p>However, it's come time to renew so I've had to reteach myself how to do it, grasping for all logs in 'history' over a few different machines, I was able to easily re-do it once more and this time - document <a href=\"https://dedisource.com/docs/display/Public/Renewing+LetsEncrypt+Certs+with+Certbot\">Renewing LetsEncrypt Certs with Certbot</a>.</p>","url":"https://hackersandslackers.com/renewing-certs/","uuid":"0b6e2064-d1b0-4b92-93c1-4741899bb502","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5b42ab7a2d99b9040e300f7e"}},{"node":{"id":"Ghost__Post__5c12d7bfe875ad7bb8673685","title":"Weekend Worker #1","slug":"weekend-worker-1","featured":false,"feature_image":"https://hackersandslackers.com/content/images/2018/06/xodz@2x.jpg","excerpt":"Implementing an automatic backup system.","custom_excerpt":"Implementing an automatic backup system.","created_at_pretty":"24 June, 2018","published_at_pretty":"24 June, 2018","updated_at_pretty":"25 July, 2018","created_at":"2018-06-24T11:13:12.000-04:00","published_at":"2018-06-24T11:57:06.000-04:00","updated_at":"2018-07-24T22:06:03.000-04:00","meta_title":"Weekend Worker #1 | Hackers and Slackers","meta_description":"Implementing an automatic backup system","og_description":"Implementing an automatic backup system","og_image":"https://hackersandslackers.com/content/images/2018/06/xodz@2x.jpg","og_title":"Weekend Worker #1","twitter_description":"Implementing an automatic backup system","twitter_image":"https://hackersandslackers.com/content/images/2018/06/xodz@2x.jpg","twitter_title":"Weekend Worker #1","authors":[{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"}],"primary_author":{"name":"Ryan Rosado","slug":"xodz","bio":"World renowned DJ who got his start from being famous on the internet. Averages 3 headshots per second in daily life and pays for all and essentials in bitcoin.","profile_image":"https://hackersandslackers.com/content/images/2019/03/ryan2.jpg","twitter":"@Zawdz","facebook":null,"website":"http://twitch.tv/xodz/videos/all"},"primary_tag":{"name":"DevOps","slug":"devops","description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","feature_image":null,"meta_description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","meta_title":"DevOps: Networking And Server Configuration | Hackers and Slackers","visibility":"public"},"tags":[{"name":"DevOps","slug":"devops","description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","feature_image":null,"meta_description":"Configuring server-side infrastructure, cloud architecture, and sometimes networking. Even automate your DevOps workflow with products from Hashicorp.","meta_title":"DevOps: Networking And Server Configuration | Hackers and Slackers","visibility":"public"}],"plaintext":"Hello and Welcome, this is the first installment of \"Weekend Worker\" series.\n\nToday as a Weekend Worker i'll be implementing an automatic backup system to\nbackup each individual client website.\n\nWe'll be using the following technologies:\n\n * Linux cron job\n * Bash\n * Ansible\n * Docker\n * AWS ECS\n * VNC server\n\nAnd we'll setup our dev environment on our home Windows desktop with the\nfollowing tools:\n\n * Ansible for Windows (to launch dev tests)\n * Visual Studio Code (for editing and pushing updates)\n * Git (so our remote prod server can grab the code updates)\n * VNCviewer (to access prod remotely)\n * Bitbucket (for source control)\n\nPreparing the Env:\n\nDownload Visual Studio Code\nDownload Git Bash from git-scm\nUse terminal window within Visual Studio Code, travel to repository location and\ninitiate git & pull from master. (not within scope of this document)\nat same location, we need Ansible-playbook to work so we will get Ansible for\nWindows.\n\nOn second thought, we won't install Ansible for Windows. We will just run the\nAnsible-playbook on our remote system - after we push and pull the updates from\nsource control. We can use the --check flag or dev inventory for testing.\n\nStarting the Work:\nCurrently, my client's websites exist within a docker container per website.\n\nThe plan is to have a cron job to run an ansible-playbook which will create a\nDocker Image out of each customer's Docker Container. The Docker Image will be\npushed to AWS ECS Docker Registry regularly.\n\nWe will have a loop in our Ansible scripts so the backup is individually applied\nto each item (website) in our Inventory file.\n\nCron will run the bash script to initiate the ansible-playbook run.\n\nFirst we will follow this document to allow Ansible to prepare our connectivity\nand authenticate with AWS ECS\nhttps://dedisource.com/docs/display/Public/Ansible+amazon-ecr-credential-helper+module\n\nThen, we will need to convert these steps to Ansible script actions using the\nAnsible Command module\nhttps://dedisource.com/docs/display/Public/Backup+container+to+registry\n\nLastly, when we have the Ansible Scripts working to Enable Connection to ECS\n[https://dedisource.com/docs/display/Public/Enable+Connection+to+AWS+ECS], \nPackage Docker Container to Image\n[https://dedisource.com/docs/display/Public/Package+Docker+Container+to+Image],\nTag Image and Push to AWS ECS registry\n[https://dedisource.com/docs/display/Public/Tag+Image+and+Push+to+AWS+ECS+registry]\n\nWe will Set Cron Job for Shell Script\n[https://dedisource.com/docs/display/Public/Cron+Job+for+Shell+Script]  to run\nonce per day. We will have the Bash Shell Script to Launch Ansible Playbook\n[https://dedisource.com/docs/display/Public/Bash+Shell+Script+to+Launch+Ansible+Playbook]\n\nAnd that will about do it for us today.\n\nThanks","html":"<p>Hello and Welcome, this is the first installment of &quot;Weekend Worker&quot; series.</p>\n<p>Today as a Weekend Worker i'll be implementing an automatic backup system to backup each individual client website.</p>\n<p>We'll be using the following technologies:</p>\n<ul>\n<li>Linux cron job</li>\n<li>Bash</li>\n<li>Ansible</li>\n<li>Docker</li>\n<li>AWS ECS</li>\n<li>VNC server</li>\n</ul>\n<p>And we'll setup our dev environment on our home Windows desktop with the following tools:</p>\n<ul>\n<li>Ansible for Windows (to launch dev tests)</li>\n<li>Visual Studio Code (for editing and pushing updates)</li>\n<li>Git (so our remote prod server can grab the code updates)</li>\n<li>VNCviewer (to access prod remotely)</li>\n<li>Bitbucket (for source control)</li>\n</ul>\n<p>Preparing the Env:</p>\n<p>Download Visual Studio Code<br>\nDownload Git Bash from git-scm<br>\nUse terminal window within Visual Studio Code, travel to repository location and initiate git &amp; pull from master. (not within scope of this document)<br>\nat same location, we need Ansible-playbook to work so we will get Ansible for Windows.</p>\n<p>On second thought, we won't install Ansible for Windows. We will just run the Ansible-playbook on our remote system - after we push and pull the updates from source control. We can use the --check flag or dev inventory for testing.</p>\n<p>Starting the Work:<br>\nCurrently, my client's websites exist within a docker container per website.</p>\n<p>The plan is to have a cron job to run an ansible-playbook which will create a Docker Image out of each customer's Docker Container. The Docker Image will be pushed to AWS ECS Docker Registry regularly.</p>\n<p>We will have a loop in our Ansible scripts so the backup is individually applied to each item (website) in our Inventory file.</p>\n<p>Cron will run the bash script to initiate the ansible-playbook run.</p>\n<p>First we will follow this document to allow Ansible to prepare our connectivity and authenticate with AWS ECS<br>\n<a href=\"https://dedisource.com/docs/display/Public/Ansible+amazon-ecr-credential-helper+module\">https://dedisource.com/docs/display/Public/Ansible+amazon-ecr-credential-helper+module</a></p>\n<p>Then, we will need to convert these steps to Ansible script actions using the Ansible Command module<br>\n<a href=\"https://dedisource.com/docs/display/Public/Backup+container+to+registry\">https://dedisource.com/docs/display/Public/Backup+container+to+registry</a></p>\n<p>Lastly, when we have the Ansible Scripts working to <a href=\"https://dedisource.com/docs/display/Public/Enable+Connection+to+AWS+ECS\">Enable Connection to ECS</a>, <a href=\"https://dedisource.com/docs/display/Public/Package+Docker+Container+to+Image\">Package Docker Container to Image</a>,<br>\n<a href=\"https://dedisource.com/docs/display/Public/Tag+Image+and+Push+to+AWS+ECS+registry\">Tag Image and Push to AWS ECS registry</a></p>\n<p>We will <a href=\"https://dedisource.com/docs/display/Public/Cron+Job+for+Shell+Script\">Set Cron Job for Shell Script</a> to run once per day. We will have the <a href=\"https://dedisource.com/docs/display/Public/Bash+Shell+Script+to+Launch+Ansible+Playbook\">Bash Shell Script to Launch Ansible Playbook</a></p>\n<p>And that will about do it for us today.</p>\n<p>Thanks</p>\n","url":"https://hackersandslackers.com/weekend-worker-1/","uuid":"008bc16f-28fa-4825-bb9f-5d77a5be63df","page":false,"codeinjection_foot":"","codeinjection_head":"","comment_id":"5b2fb5085e55265a190ee2ae"}}]}},"pageContext":{"slug":"xodz","limit":12,"skip":0,"numberOfPages":1,"humanPageNumber":1,"prevPageNumber":null,"nextPageNumber":null,"previousPagePath":null,"nextPagePath":null}}